# 7장 제어 구문

## 7.1 제어 구문

- 문장은 일반적으로 작성한 순서대로 실행된다. 이를 **순차적 실행**이라고 한다.
- **제어 구문**은 이런 순차적 실행 흐름을 변화시킨다.
- 자바스크립트의 제어 구문에는 **조건문**, **반복문**, **점프문**이 있다.



## 7.2 조건문

- 조건문은 조건식의 값에 따라 실행 흐름을 분기(분리, 나누다)한다.

### 7.2.1 if/else 문

- **만약 ~이라면... 그렇지 않으면...**의 처리 흐름을 표현한다.

- 아래의 두 가지 형식을 지니고 있다.

  ```js
  if (조건식) 문장
  if (조건식) 문장1 else 문장2
  ```

  두 방법 모두 if는 조건식이 참일 때 실행된다. 두 번째 방법의 else는 조건식이 거짓일 때 실행된다.

- if문 안에 if문을 중첩해서 사용할 때 이를 **중첩된 if 문**이라고 한다. if 문을 중첩할 때는 if와 else가 잘 대응하는지를 확인해야 한다.

  ```js
  if(a>b)
  	if(a>c)
  		console.log("a가 가장 크다");
  else
  	console.log("a는 b 이하");
  ```

  위 예에서 else는 겉으로 보기엔 첫 번째 if문에 대응하는 것처럼 보이지만 else문은 가장 가까운 if문에 호응하기 때문에 실제로는 두 번째 if문에 대응한다.

- 위와 같은 오류를 방지하기 위해서 if 문 안의 문장은 단 한 줄일지라도 중괄호로 묶는 것을 권장한다.

- else와 if는 합쳐서 사용할 수 있다.

  ```js
  if(num==1){
  	console.log("One");
  } else if(num==2){
  	console.log("Two");
  } else{
  	console.log("Other");
  }
  ```



### 7.2.2 switch 문

- if/else 문으로 분기점이 여러 개인 조건식을 만들면 코드가 복잡해질 수 있다. switch 문은 이를 훨씬 간결하게 표현할 수 있다.

  ```js
  switch(표현식){
  	case 표현식 1 : 실행문 1
  	case 표현식 2 : 실행문 2
  	...
  	case 표현식 n : 실행문 n
  	default : 실행문 n + 1
  }
  ```

- switch 문은 괄호 안의 표현식을 먼저 평가하고 평가한 값과 일치하는 case 라벨의 값(case 뒤의 표현식)을 위에서부터 찾는다. 일치의 기준은 일치 연산자(===)와 같다.

- 라벨 값과 일치하는 case 라벨을 발견하면 그 case 라벨의 실행문을 차례대로 실행한다. 일치하는 라벨이 없다면 default 라벨을 찾고 그 안의 실행문을 실행한다.

- 각각의 case 라벨 뒤에 이어지는 실행문은 break 문으로 마무리된다. break 문은 코드를 블록 문장에서 빠져나오도록 한다. 만약 break 문이 없다면 case의 실행문이 끝나고도 switch 문의 전체 부분이 실행된다.

- 고의로 break 문을 걸지 않는 경우가 있는데 이것을 폴 스루라고 한다. 폴 스루는 여러 개의 case 라벨이 가리키는 표현식 결과와 일치하는 실행문을 실행하고자 할 때 사용한다.



## 7.3 반복문

- 반복문은 일정한 처리를 한 다음 원래 위치로 돌아가 똑같은 처리를 반복하는 처리를 표현한다.

### 7.3.1 while 문

- while 문은 조건이 맞아떨어지면 일정한 처리를 무한정 반복해서 실행한다.

  ```js
  while (조건식) 문장
  ```

- while 문이 실행되면 조건식을 먼저 평가한다. false이면 while 문을 빠져나오고 true이면 문장을 실행하고 다시 while 문의 시작 부분으로 돌아간다.

- while 문에는 break 문과 continue 문을 사용할 수 있다. break가 실행되면 while 문에서 빠져나오고 continue가 실행되면 while 문의 시작 부분으로 돌아간다.



### 7.3.2 do/while 문

- while 문은 반복 조건을 시작 지점에서 확인하지만 do/while 문은 마지막 지점에서 확인한다.

  ```js
  do 문장 while(조건식);
  ```

- do/while 문의 끝에는 세미콜론이 붙어야 한다.

- 문장을 실행한 후 조건식이 참이면 반복문의 시작 부분으로 돌아가고 거짓이면 빠져나온다.

- while 문의 문장은 조건식이 틀리면 실행되지 않을 수 있지만 do/while 문의 문장은 반드시 한 번은 실행된다.

- break 문과 continue 문을 사용할 수 있다.



### 7.3.3 for 문

- for 문은 반복 조건의 초기화, 반복문의 조건식, 반복 사이클이 한 번 돌았을 시 반복 조건을 갱신하는 작업을 명시적으로 한 곳에 모아서 표시한다.

  ```js
  for( 초기화 식; 조건식; 반복식) 문장
  ```

- for 문은 반복문에 필수로 필요하다시피한 세 가지 작업을 for의 소괄호 안에 모두 작성함으로써 어떤 반복 처리를 하는지 이해하기가 쉽고 반복 조건의 초기화나 갱신 작업을 빼먹는 실수를 미연에 방지할 수 있다.

- 초기화 - 조건식 평가 - 문장 실행 - 반복식 실행 - 조건식 평가

- break 문과 continue 문을 사용할 수 있다.

- 초기화 식 입력 구간에서 쉼표 연산자를 사용할 시 표현식을 여러 개 작성할 수 있다.

- 괄호 안의 모든 식은 생략할 수 있으나 세미콜론만큼은 생략할 수 없다.

- 조건식을 생략하면 무한 반복의 의미가 된다.

- ```js
  for(var i = 0; i < 10; i++){...}
  ```

  위 for 문의 i처럼 반복식 안에서 값이 바뀌는 변수를 루프 카운터 변수라고 한다. 루프 카운터 변수는 여러 개일수도 있다.

  ```js
  for(var i=0, j=10; i<10; i++, j--){...}
  ```

##### 중첩 반복문

- for 문 안에 for 문을 작성하면 중첩 반복문을 만들 수 있다.



### 7.3.4 for/in 문

- for/in 문은 객체 안의 프로퍼티를 순회하는 반복문이다.

  ```js
  for (변수 in 객체 표현식) 문장
  ```

- for/in 문은 객체 표현식을 먼저 평가한다. null 또는 undefined일 경우 for/in 문을 빠져나온다. 객체일 경우 객체의 프로퍼티 이름이 차례대로 변수에 할당되고 각각의 프로퍼티에 대해서 문장이 한 번씩 실행된다.

  ```js
  var obj = {a:1, b:2, c:3};
  for(var p in obj) {
  	console.log("p = " + p);
  }
  // -> p=a
  //	  p=b
  //    p=c
  ```

  위처럼 프로퍼티의 이름이 문자열로 변환되어 변수 p에 대입된다.

- for/in 문은 프로퍼티 이름만 꺼내 변수에 할당한다. 따라서 프로퍼티 값을 꺼내오려면 대괄호 연산자를 사용해야 한다.

  ```js
  var obj = {a:1, b:2, c:3};
  for(var p in obj) {
  	console.log("obj. " + p + " = " + obj[p]);
  }
  // -> obj.a = 1
  //    obj.b = 2
  //    obj.c = 3
  ```

- break 문과 continue 문을 사용할 수 있다.



## 7.4 점프문

- 점프문은 프로그램의 다른 위치로 이동하는 제어 구문이다.

### 7.4.1 라벨문

- JS에서는 모든 문장에 라벨을 붙일 수 있다.

  ```js
  라벨 이름 : 문장
  ```

- 라벨 이름에는 모든 식별자를 사용할 수 있다.

- JS에서 라벨로 점프(이동)할 수 있는 문장은 break 문과 continue 문뿐이다. break 문은 switch 문과 반복문 안에서만 사용할 수 있고 continue 문은 반복문에서만 사용 가능하다.

- 다음 코드에서 break loop;를 실행하면 loop라는 라벨이 붙은 while 문이 종료된다.

  ```js
  loop: while( true ){
  	if( confirm("종료하시겠습니까?")) break loop;
  }
  ```



### 7.4.2 break 문

- ```js
  break;
  ```

- switch 문에서 실행 시 switch 문에서 빠져나오고 반복문에서 실행 시 가장 안쪽의 반복문에서 빠져나온다.

- 점프할 라벨을 지정할 수 있다. 라벨을 지정한 break 문은 라벨 이름이 붙은 문장 끝으로 점프한다.

  ```js
  break 라벨 이름;
  ```

  이 때 지정한 라벨이 존재하지 않으면 문법 오류가 발생한다.

- break 문과 라벨 사이에 줄 바꿈 문자가 들어갈 시 JS 내부적으로 세미콜론이 생겨 라벨이 지정되지 않은 break 문으로 지정된다.

- 라벨을 지정한 break 문은 주로 중첩된 반복문의 안쪽 반복문에서 전체 반복문을 빠져나올 때 쓰인다.



### 7.4.3 continue 문

- ```js
  continue;
  ```

- continue 문에서 점프할 라벨을 지정할 수 있다.

  ```js
  continue 라벨 이름;
  ```

- continue 문을 실행 시 반복문의 실행을 멈추고 반복을 새로 시작한다. 단, 반복문마다 동작이 조금씩 다르다.

  | while 문    | 반복문의 처음으로 돌아가 조건식을 재평가한다. true일 경우 반복문 재실행 |
  | ----------- | ------------------------------------------------------------ |
  | do/while 문 | 반복문의 마지막에 위치한 조건식으로 점프한다. true일 경우 반복문 재실행 |
  | for 문      | 반복식을 실행 후에 조건식을 평가한다. true일 경우 반복문 재실행 |
  | for/in 문   | 반복문의 처음으로 돌아가 지정한 변수에 할당된 프로퍼티의 다음 프로퍼티를 대상으로 작업을 시작한다. |

- 라벨을 지정한 continue 문은 주로 중첩된 반복문의 안쪽 반복문에서 전체 반복문으로 점프할 때 쓰인다.



## 7.5 응용 예제

### 7.5.1 망델브로 집합 그리기



### 7.5.2 암호 원판을 활용한 암호화

