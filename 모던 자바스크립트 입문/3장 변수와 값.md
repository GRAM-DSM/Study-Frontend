# 3장 변수와 값

## 3.1 변수

### 3.1.1 변수

- 값을 담는 저장 공간으로 각각의 변수에게 이름을 붙여야 한다.



### 3.1.2 변수 선언

- 자바스크립트에서 변수를 선언하려면 아래와 같이 작성해야 한다.

  ```js
  var 변수이름;
  ```

- 위 코드의 var은 자바스크립트의 키워드로 변수를 선언하기 위한 선언자이다. 이외에도 let, const라는 선언자가 있다.

- 자바스크립트에는 변수 타입이 존재하지 않아 모든 데이터 타입(정수, 문자 등)의 값을 저장할 수 있다.

- 쉼표를 사용하면 변수 여러 개를 한 개의 문장으로 선언할 수 있다.

  ```js
  var sum, a;
  ```

- 변수를 선언하기만 하고 값을 저장하지 않으면 변수 안에는 정의되지 않았음을 뜻하는 undefined라는 값이 들어간다.

  ```js
  var x;
  console.log(x); // -> undefined
  ```

- 등호를 사용해 변수에 값을 대입할 수 있다.

  ```js
  x = 2;
  ```

- 변수 선언과 동시에 초깃값을 설정할 수도 있다.

  ```js
  var x = 5;
  ```

- 위를 응용하면 다중 변수 선언과 동시에 초깃값을 설정할 수도 있다.

  ```js
  var a=1, b=2, c=3;
  ```



### 3.1.3 변수 선언 생략

- 선언되지 않은 변수 값을 읽으려고 시도하면 참조 오류가 발생한다.

  ```js
  console.log(x); // -> ReferenceError: x is not defined(오류 메시지)
  ```

- 그러나 var 문으로 선언하지 않은 변수에 값을 대입할 때는 오류가 발생하지 않는다. 이는 자바스크립트 엔진이 그 변수를 자동으로 **전역 변수**로 선언해주기 때문이다.

  ```js
  x = 2;
  console.log(x); // -> 2
  ```

  허나 이런 행위는 버그의 원인이 될 수 있으므로 변수는 반드시 선언하고 사용해야 한다.



### 3.1.4 변수 끌어올림과 변수 중복 선언

- 프로그램은 작성한 순서에 따라 윗줄부터 차례대로 실행되지만 변수 선언은 이 원칙을 따르지 않는다. 아래의 예시 코드를 참조하자

  ```js
  console.log(x);	// -> undefined
  var x;
  ```

  이처럼 프로그램 중간에서 변수를 선언하더라도 변수가 프로그램 시작점에 선언된 것처럼 다른 문장 앞에 생성되는 현상을 **변수 선언의 끌어올림(hoisting)**이라고 한다.

- 단, 선언과 동시에 대입을 할 경우 변수는 끌어 올려지지만 변수의 값은 끌어지지 않는다. var x =5;라는 문장이 있으면 var x만 끌어 올려지고 x=5는 분리되는 것이다.

  ```js
  console.log(x); // -> undefined
  var x = 5;
  console.log(x); // -> 5
  ```

- var 문으로 같은 이름을 가진 변수를 여러 개 선언하더라도 오류가 발생하지 않는다. 이는 같은 이름으로 선언된 변수 모드를 끌어올린 후에 단 하나의 영역에만 할당되기 때문이다.



### 3.1.5 변수의 명명 규칙

- 변수, 함수, 라벨 이름 등 사용자가 정의하는 이름을 식별자라고 한다. 이를 정할 땐 다음의 규칙을 준수해야 한다.
  - 사용할 수 있는 문자에는 알파벳(a~z, A~Z), 숫자(0~9), 언더바(_), 달러 기호($)가 있다.
  - 식별자의 첫 글자는 숫자 사용이 불가하다.
  - 예약어를 식별자로 사용할 수 없다.(예약어는 3.1.6 예약어 참조)
- 프로그램의 크기가 커질수록 변수도 많아지므로 변수 이름을 짓는 표기법을 따라 작성하면 변수의 의미(역할)을 쉽게 알 수 있다. 표기법은 아래와 같다.
  - **캐멀 표기법(로어 캐멀 표기법)**: 변수명이 2개 이상의 단어일 때, 두 번째 이후 단어의 첫 글자를 대문자로 표기하고 나머지는 소문자로 표기한다.(ex: newName	createLifeGame)
  - **파스칼 표기법(어퍼 캐멀 표기법)**: 각 단어의 첫 글자를 대문자로 표기하고 나머지는 소문자로 표기한다.(ex: NewName	CreateLifeGame)
  - **밑줄 표기법(스네이크 표기법)**: 모든 단어를 소문자로 표기하고 단어를 언더바로 구분한다.(ex: new_name	create_life_game)
- 아래는 변수 이름을 지을 때 일반적으로 사용하는 표기법이다.
  - 위에 명시된 표기법을 사용한다.
  - 기본적으로 영어 **단어**를 사용한다.
  - 루프 카운터 변수 이름으로는 i, j, k 등을 사용한다.
  - 상수는 대문자로 표현한다. ex) MAX_SIZE
  - 논리값(3.2.5 참조)을 표현하는 변수에는 이름 앞에 is를 붙인다. ex)isMouseDown
  - 생성자(4.3 참조) 이름을 붙일 때는 파스칼 표기법을 사용한다.



### 3.1.6 예약어

- **예약어**: 자바스크립트 문법을 규정짓기 위해 자바스크립트 언어 사양에서 사용하는 특수한 키워드(var 등)
- 쓰지 말아야할 예약어에는 예악어, 예약어가 될 키워드, 자바스크립트에 미리 정의된 전역 변수와 전역 함수가 있다.



## 3.2 데이터 타입

### 3.2.1 데이터 타입과 변수의 동적 타이핑

- **데이터 타입**: 변수에 저장하는 데이터의 종류(정수, 문자열 등)
- **정적 타입 언어**: 변수의 타입(정수 타입 변수, 부동소주점 파입 변수 등)과 일치하는 데이터만 저장할 수 있는 언어. C나 Java 등이 있다.
- **동적 타입 언어**: 실행 시 변수에 저장된 데이터 타입을 동적으로 바꿀 수 있는 언어. 자바스크립트가 이에 해당된다.



### 3.2.2 데이터 타입의 분류

##### 원시 타입

- 숫자, 문자열, 논리값, 특수한 값(undefined)과 심벌(symbol)이 이 타입에 속한다.
- 데이터를 구성하는 가장 기본적인 요소로 불변 값(값을 바꿀 수 없는 데이터)으로 정의되어 있다.

##### 객체 타입

- 변수 여러 개가 모여 만들어진 복합 데이터 타입
- 객체에 저장된 값은 바꿀 수 있다.
- 객체는 참조 타입으로 객체 타입의 값을 변수에 대입하면 변수에는 그 객체에 대한 참조(메모리에서느 위치 정보)가 할당된다.
- 배열, 함수, 정규 표현식 등이 있다.



### 3.2.3 숫자

- 자바스크립트에서 모든 숫자는 64비트 부동소수점으로 표현된다.

- 표현 가능한 최댓값과 최솟값은 다음과 같다.

  - 최댓값: 1.7976931348623157e+308
  - 최댓값: 4.940656458412465e-324

- 정수 값은 -2e+53 ~ 2e+53 범위의 값을 처리할 수 있다.

- 단, 배열 인덱스 값과 비트 연산은 32비트로 처리한다.

- **리터럴**: 프로그램에 직접 작성할 수 있는 상수 값. 정수와 부동소수점으로 나뉜다.

- 아래는 특수한 숫자를 표현하기 위한 문자열이다.

  | 분류              | 표기법                   | 설명                               | 비고 |
  | ----------------- | ------------------------ | ---------------------------------- | ---- |
  | 전역 변수         | Infinity                 | 플러스 무한대                      |      |
  | 전역 변수         | NaN                      | 부정 값(숫자가 아님, Not a Number) |      |
  | Number의 프로퍼티 | Number.POSITIVE_INFINITY | 플러스 무한대                      |      |
  | Number의 프로퍼티 | Number.NEGATIVE_INFINITY | 마이너스 무한대                    |      |
  | Number의 프로퍼티 | Number.MAX_VALUE         | 표현할 수 있는 최댓값              |      |
  | Number의 프로퍼티 | Number.MIN_VALUE         | 표현할 수 있는 최솟값              |      |
  | Number의 프로퍼티 | Number.NaN               | 부정 값                            |      |
  | Number의 프로퍼티 | Number.EPSILON           | 2.220446049250313-16               | ES6  |
  | Number의 프로퍼티 | Number.MIN_SAFE_INTEGER  | -9007199254740990                  | ES6  |
  | Number의 프로퍼티 | Number.MAX_SAFE_INTEGER  | 9007199254740990                   | ES6  |

   

### 3.2.4 문자열

- **문자열 리터럴**: 프로그램에 직접 문자열을 작성한다. 작은따옴표('')나 큰따옴표("")를 문자열의 앞뒤에 붙여서 표현한다.

- "", ''처럼 빈 문자열을 만들 수도 있다.

- 자바스크립트를 HTML 요소에 끼워 넣을 때는 자바스크립트 프로그램을 문자열로 작성한다.

  ```html
  <input type="button" value="Click" onclick="alert('Thanks!')"
  ```

  위 상황에서는 HTML 코드에는 큰따옴표를 사용하고 자바스크립트 코드에는 작은따옴표를 사용하여 둘을 구분해주는 것이 좋다.

- 줄 바꿈 문자와 탭 문자 등은 문자열에 그대로 추가할 수 없다. 이러한 특수문자들은 아래의 이스케이프 시쿼스로 표현해야 한다.

  | 이스케이프 시퀀스 | 의미                                             | 비고 |
  | ----------------- | ------------------------------------------------ | ---- |
  | \0                | 널 문자                                          |      |
  | \b                | 백스페이스 문자                                  |      |
  | \t                | 수평 탭 문자                                     |      |
  | \n                | 개행 문자                                        |      |
  | \v                | 수직 탭 문자                                     |      |
  | \f                | 다음 페이지 문자                                 |      |
  | \r                | 캐리지 리턴 문자                                 |      |
  | \ '               | 작은따옴표 문자                                  |      |
  | \ "               | 큰따옴표 문자                                    |      |
  | \ \               | 역슬래시 문자                                    |      |
  | \xXX              | 두 자릿수 16진수 XX로 지정된 Latin-1 문자        |      |
  | \uXXXX            | 네 자릿수 16진수 XXXX로 지정된 유니코드 문자     |      |
  | \u{XXXXXX}        | 16진수 코드 포인트 XXXXXX로 지정된 유니코드 문자 | ES6  |



### 3.2.5 논리값

- 조건식이 참인지 거짓인지 표현하기 위해 사용하는 값.
- true, false로 구분된다.



### 3.2.6 특수한 값

- **값이 없음**을 표현하기 위한 특수한 값으로 null과 undefined가 있다.
- undefined는 정의되지 않은 상태를 뜻하며 다음과 같은 상황에 값이 undefined로 설정된다.
  - 값을 할당하지 않은 변수의 값
  - 없는 객체의 프로퍼티를 읽으려고 시도했을 때의 값
  - 없는 배열의 요소를 읽으려고 시도했을 때의 값
  - 아무것도 반환하지 않는 함수가 반환하는 값
  - 함수를 호출했을 때 전달받지 못한 인수의 값
- null은 아무것도 없음을 값으로 표현한 리터럴이다.



## 3.3 ECMAScript 6부터 추가된 데이터 타입

### 3.3.1 심벌

- ES6부터 새로이 추가된 원시 값이다.

- 자기 자신을 제외한 그 어떤 값과도 다른 유일한 값이다.

  ##### 심벌의 생성

  - Symbol()을 사용해서 생성한다.

    ```js
    var sym1 = Symbol();
    ```

  - Symbol()은 호출할 때마다 새로운 값을 만든다. 아래의 코드에서 sym1과 sym2의 값은 다르다.

    ```js
    var sym1 = Symbol();
    var sym2 = Symbol();
    ```

  - Symbol()에 인수를 전달하면 생성된 심벌의 설명을 덧붙일 수 있다.

    ```js
    var HEART = Symbol("하트"); // Symbol(하트)
    ```

  ##### 심벌과 문자열 연결하기

  - Symbol.for()를 활용하면 문자열과 연결된 심벌을 생성할 수 있다.

    ```js
    var sym1 = Symbol.for("club");
    ```

  - 전역 레지스트리에서 만들어진 심벌을 위에서 지정한 문자열로 불러올 수 있다.

    ```js
    var sym2 = Symbol.for("club");
    console.log(sym1 == sym2); //->true
    ```

  - 심벌과 연결된 문자열은 Symbol.keyFor()로 구할 수 있다.

    ```js
    var sym1 = Symbol.for("club");
    var sym2 = Symbol("club");
    console.log(Symbol.keyFor(sym1)); //->club
    console.log(Symbol.keyFor(sym2)); //->undefined
    ```

### 3.3.2  템플릿 리터럴

- 문자열 표현 구문이다.

- **템플릿**: 일부만을 변경하여 반복하거나 재사용할 수 있는 틀

- 템플릿 리터럴을 통해 표현식의 값을 문자열에 추가하거나 여러 줄의 문자열을 표현할 수 있다.

  ##### 기본적인 사용법

  - 템플릿 리터럴은 문자열을 역따옴표(`)로 묶어주면 사용할 수 있다.

    ```js
    `I'm going to learn Javascript.`
    ```

  - 템플릿 리터럴은 문자열 리터럴과 달리 일반적인 줄 바꿈 문자를 사용할 수 있게 해준다.

    ```js
    var t = `Man errs as long as 
    he strives.`; //템플릿 리터럴
    
    var t = `Man errs as long as\nhe strives.`; //문자열 리터럴 
    ```

    단, 문자열 리터럴처럼 이스케이프 시퀸스를 사용할 수도 있다.

  - 이스케이프 시퀀스 문자를 그대로 출력하려면 템플릿 리터럴 앞에 String.raw를 붙이면 된다.

    ```js
    var t = String.raw`Man errs as long as\nhe strives.`;
    
    var t = `Man errs as long as\\nhe strives.`;
    ```

    이 String.raw를 **태그 함수**라고 한다.

  ##### 보간 표현식

  - 템플릿 리터럴 안에는 **플레이스 홀더**를 넣을 수 있다. ${...}로 표기한다.

  - 플레이스 홀더 안의 ... 부분을 표현식으로 간주하여 평가한다. 이를 활용하여 문자열 안에 변수나 표현식의 결괏괎을 삽입할 수 있다.

    ```js
    var a = 2, b = 3;
    console.log(`${a} + ${b} = ${a+b}`); // -> 2 + 3 = 5
    var now = new Date();
    console.log(`오늘은 ${now.getMonth()+1} 월 ${now.getDate()}일입니다.`);
    // -> 오늘은 8 월 1 일입니다.
    ```

